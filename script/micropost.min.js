function micropost(e,t,n,r){this.bindFunction=function(e,t){return function(){return e.apply(t,[t])}};this.stateChange=function(e){if(this.request.readyState==4){clearTimeout(this.timeoutID);if(this.request.status==200){this.successCall(JSON.parse(this.request.responseText))}}};this.getRequest=function(){if(window.ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");else if(window.XMLHttpRequest)return new XMLHttpRequest;return false};this.successCall=n;this.failCall=r;this.url=e;this.request=this.getRequest();this.timeoutID=0;if(this.request){var i=this.request;i.onreadystatechange=this.bindFunction(this.stateChange,this);i.open("POST",e,true);i.setRequestHeader("X-Requested-With","XMLHttpRequest");i.setRequestHeader("Content-type","application/json");i.send(JSON.stringify(t));this.timeoutID=setTimeout(function(){this.request.abort();this.failCall("timeout","")},6e4)}}